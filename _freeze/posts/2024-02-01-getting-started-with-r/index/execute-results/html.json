{
  "hash": "fcc17d6a1bc2fe04e34ed20ca224c9f9",
  "result": {
    "markdown": "---\ntitle: \"An Introduction to R\"\ndescription: \"Getting started with R and RStudio\"\nauthor:\n  - name: Finn Roberts\n    affiliation: Senior Data Analyst, IPUMS\n  - name: Matt Gunther\n    affiliation: Research Methodologist, NORC\ncategories:\n  - Tips\n  - R\ndate: 02-01-2024\nopen-graph:\n  title: \"IPUMS DHS Research Hub — An Introduction to R\"\n  description: \"Getting started with R and RStudio\"\n  image: ../../images/hex/Rlogo.png\ntwitter-card:\n  title: \"IPUMS DHS Research Hub — An Introduction to R\"\n  description: \"Getting started with R and RStudio\"\n  image: ../../images/hex/Rlogo.png\n---\n\n::: {.cell}\n\n:::\n\n\nThe IPUMS DHS Climate Change and Health Research Hub is designed to\nintroduce spatial data concepts for researchers who work with population\nhealth survey data.\n\nTo do so, the blog will provide both **conceptual** content describing\nways in which spatial data can be appropriately included in population\nresearch as well as **technical** content demonstrating how to implement\nsome of these approaches using statistical software.\n\nTechnical content will rely primarily on the R programming language. Not\nonly is R one of the most popular platforms for data analysis around the\nworld, but its open-source nature aligns well with IPUMS values. R is\nfreely available for Windows, MacOS, and a wide variety of UNIX\nplatforms and similar systems (including FreeBSD and Linux).\n\n::: column-margin\nFor those interested in analyzing IPUMS DHS data with other statistical\nplatforms, IPUMS does provide data extracts in proprietary formats, like\nSPSS, Stata, and SAS.\n:::\n\n# Why R?\n\n::: column-margin\n`<div class=\"hex\">\n<a href=\"https://cran.r-project.org/\" class=\"hex\">\n<img src=\"../../images/hex/Rlogo.png\" class=\"hex-img\"/>\n</a>\n<p class=\"hex-cap\">© R-project.org (GPL-2 | GPL-3)</p>\n</div>`{=html}\n:::\n\nPlenty of people come to R after working with more common types of data\nanalysis software, like Microsoft Excel or other spreadsheet programs.\n\nIt's certainly possible to download a CSV file from IPUMS DHS and open\nit in Excel; however, compared to Excel (and some other analysis\nsoftware), R has several advantages:\n\n-   **Reproducibility & automation:** R allows you to explicitly write\n    the sequence of data processing steps used in an analysis. This\n    allows you to demonstrate to others exactly what steps you took in\n    an analysis, and also makes it much easier for you to automate\n    processing tasks that you do regularly.\n-   **Advanced statistical procedures:** R is first and foremost a\n    statistical software. This means that a wide array of statistical\n    methodologies have already been implemented in R, and more are being\n    added all the time.\n-   **Data visualization:** R is well-known for its strong graphics\n    capabilities. In many cases, you can produce professional-quality\n    visuals with R code alone.\n-   **Spatial data:** R is not limited to spreadsheets: it supports a\n    variety of more complex data structures, including several spatial\n    data representations.\n-   **Community support:** R users are active on forums like [Stack\n    Overflow](https://stackoverflow.com/) and\n    [R-bloggers](https://www.r-bloggers.com/). Groups like\n    [R-ladies](https://rladies.org/) even organize in-person meetups in\n    cities around the world to help promote inclusion within the R\n    community.\n-   **More than just statistics:** You can use R to build a website\n    (like this one), manage and share a code repository on GitHub,\n    scrape and compile a social media database, or automatically\n    generate word documents, slide presentations, and more! There are\n    practically endless ways to use functional programming in R that\n    have nothing to do with statistics at all.\n\nAdditionally, R provides specific tools for working with IPUMS data\nthrough the [ipumsr](https://tech.popdata.org/ipumsr) package:\n\n-   **Specialized functions** to ease the process of loading IPUMS data\n    into R\n-   **Enhanced metadata** that is not available in Excel spreadsheets\n-   A **client interface** to the [IPUMS\n    API](https://developer.ipums.org/docs/v2/apiprogram/), which allows\n    you to request and download data from IPUMS using R code alone.\n\n::: column-margin\nIPUMS DHS is not yet supported via the IPUMS API, but the IPUMS API is\nunder active development, and more projects will continue to be added.\nCheck out the [API\ndocumentation](https://developer.ipums.org/docs/v2/apiprogram/apis/) to\nsee the projects that are supported, and stay tuned for updates!\n:::\n\nThe flip side to these benefits is the learning curve for those just\nstarting out. Learning R *will* take practice, but doing so will almost\ncertainly make your work much more efficient!\n\n## Getting started with R\n\nTo download R, visit the [Comprehensive R Archive\nNetwork](https://cloud.r-project.org/) (CRAN) and choose the appropriate\ndownload link for your operating system.\n\n::: callout-note\n## R Version Requirements\n\nThis blog is designed to work with R 4.1.0 and later. The 4.1.0 release\nincluded several notable updates that are used in this blog, including\nthe introduction of the native pipe operator `|>`.\n\nIf you've previously downloaded R, you'll need to update your R version\nto run some of the code presented in this blog.\n:::\n\nThere are countless free resources available for learning R, from\nfoundational knowledge to niche topics. Here are a few of our favorite\nresources to help you get started:\n\n-   [R for Data Science](https://r4ds.hadley.nz/) for beginners\n-   [Advanced R](https://adv-r.hadley.nz/) for a deeper dive\n-   [RSpatial](https://rspatial.org/) and [Geocomputation with\n    R](https://r.geocompx.org/) for analysis with spatial data\n-   [ggplot2](https://ggplot2-book.org/) for data visualization\n-   [Mastering Shiny](https://mastering-shiny.org/) for interactive\n    applications\n-   [R Markdown: The Definitive\n    Guide](https://bookdown.org/yihui/rmarkdown/) for producing\n    annotated code, word documents, presentations, web pages, and more\n-   [R-bloggers](https://www.r-bloggers.com/) for regular news and\n    tutorials\n\nAdditionally, you can always get help on Stack Overflow and—for\n[packages](#packages) hosted on GitHub—their GitHub issues page. No\nmatter what question you have, you're unlikely to be the first person to\nencounter it, so it's always worth checking to see whether your problem\nhas been solved in the past.\n\n# RStudio\n\nWe **strongly** recommend running R within\n[RStudio](https://posit.co/products/open-source/rstudio/), a free\nintegrated development environment (IDE) designed to make your\nexperience with R *much easier*. Some features of RStudio include:\n\n-   a multi-pane window that puts your R console, source code, output,\n    and help files all in one place.\n-   syntax highlighting and code completion.\n-   support for [R\n    Projects](https://support.rstudio.com/hc/en-us/articles/200526207-Using-Projects),\n    a crucial approach to organizing your work and sharing it with\n    others.\n-   support for [RMarkdown](https://rmarkdown.rstudio.com/), an R\n    package that allows you write text-based documents with embedded\n    snippets of code that can be passed directly to your R console.\n-   a variety of other helpful tools. Check out the [Posit\n    blog](https://posit.co/blog/) for the latest!\n\n# R packages {#packages}\n\nAn R *package* is a collection of functions created by other R users\nthat you can download and install for yourself. Most R packages can be\ndownloaded from CRAN (the same resource used to download \"base\" R).\n\nYou can install packages from CRAN using `install.packages()`. For\ninstance, to install ipumsr:\n\n::: column-margin\nThis function saves package files in your default \"library\" location. If\nyou're using a Linux machine and don't have root access, you'll need to\n[set up](https://www.r-bloggers.com/2010/11/installing-r-packages) R to\nsave packages to a location where you're able to write files.\n:::\n\n\n::: {.cell}\n\n```{.r .cell-code}\ninstall.packages(\"ipumsr\")\n```\n:::\n\n\n::: callout-tip\n## Other Package Sources\n\nIt's also possible to download packages from other public sources, like\n[GitHub](https://github.com/). This may be the only way to get the\nlatest updates to a package or to install newer packages that haven't\nyet been submitted to CRAN.\n\nUse `remotes::install_github()` to install packages from GitHub.\n:::\n\nIn order to access functions from a package, you'll need to *load* it\nwith `library()`:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ipumsr)\n```\n:::\n\n\n::: callout-note\n## Installing vs. Loading\n\nNote the difference between *installing* a package and *loading* a\npackage. Installing downloads the package files to your system, but does\nnot automatically make those functions available in your R session.\nLoading a package takes a previously installed package and makes its\nfunctions available for use.\n:::\n\nOnce you've done so, all the functions provided by ipumsr will be\navailable for use, and you can call them by name. For instance, to use\nipumsr's `read_ipums_micro()`:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nread_ipums_micro(\n  ddi = \"data/dhs/idhs_00015.xml\",\n  data_file = \"data/dhs/idhs_00015.dat.gz\"\n)\n```\n:::\n\n\nOn occasion, you may see the alternative `::` notation:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nipumsr::read_ipums_micro(\n  ddi = \"data/dhs/idhs_00015.xml\",\n  data_file = \"data/dhs/idhs_00015.dat.gz\"\n)\n```\n:::\n\n\nThis is simply a more explicit way of indicating that we want to use the\n`read_ipums_micro()` function *from* the ipumsr package. If you've\nalready loaded the package with `library()`, you don't need to use `::`\nnotation every time you use a package function. (On the other hand, even\nif you haven't loaded an entire package, you can always use `::`\nnotation to access its functions.)\n\nPackages also come with help files detailing the purpose and possible\ninputs, or *arguments*, of each included function. To access help files,\nuse `?`:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n?read_ipums_micro\n```\n:::\n\n\n## Essential packages\n\nSeveral packages will come into frequent use on this blog.\n\n### ipumsr\n\nThe [ipumsr](https://tech.popdata.org/ipumsr/) package contains\nfunctions that make it easier to load IPUMS data into R.\n\n::: column-margin\n`<div class=\"hex\">\n<a href=\"https://tech.popdata.org/ipumsr/\" class=\"hex\">\n<img src=\"../../images/hex/ipumsr.png\" class=\"hex-img\"/>\n</a>\n<p class=\"hex-cap\">© IPUMS (MPL-2.0)</p>\n</div>`{=html}\n:::\n\nFor IPUMS DHS, the most relevant of these is `read_ipums_micro()`, which\nallows you to load a fixed-width data file along with associated\nmetadata.\n\nipumsr also contains functions to interact with variable metadata after\nloading, like `ipums_var_info()`, `ipums_val_labels()`, and so on.\n\nAs mentioned above, ipumsr also contains client tools for interacting\nwith the IPUMS API. This allows users to request and download IPUMS data\nentirely within their R environment. While not available for IPUMS DHS,\nusers of supported IPUMS collections can learn more from the API\nworkflows introduced on the ipumsr\n[website](https://tech.popdata.org/ipumsr/articles/ipums-api.html)\n\n### tidyverse\n\nThe [tidyverse](https://www.tidyverse.org/packages/) package actually\nrefers to a family of related packages. Installing tidyverse will\nactually install each of these component packages:\n\n::: column-margin\n`<div class=\"hex\">\n<a href=\"https://tidyverse.tidyverse.org/index.html\" class=\"hex\">\n<img src=\"../../images/hex/tidyverse.png\" class=\"hex-img\"/>\n</a>\n<p class=\"hex-cap\">© RStudio, Inc. (MIT)</p>\n</div>`{=html}\n:::\n\n-   [ggplot2](https://ggplot2.tidyverse.org/) for data visualization\n-   [dplyr](https://dplyr.tidyverse.org/) for data manipulation\n-   [tidyr](https://tidyr.tidyverse.org/) for data tidying\n-   [readr](https://readr.tidyverse.org/) for data import\n-   [purrr](https://purrr.tidyverse.org/) for functional programming\n-   [tibble](https://tibble.tidyverse.org/) for tibbles (a modern\n    re-imagining of data frames)\n-   [stringr](https://github.com/tidyverse/stringr) for string\n    manipulation\n-   [forcats](https://github.com/hadley/forcats) for factor handling\n\nIt's possible to call `library(tidyverse)` to load *all* the packages in\nthe tidyverse collection, but in most cases it's best to individually\nload the specific packages you need for a given R script. This allows\nyou and other users to more easily identify the specific packages\nrequired to run your code. It also makes your code more accessible—other\nusers won't have to have the entire tidyverse collection installed to\nrun your code, only the specific packages that are actually required.\n\nIn general, this blog will follow the tidyverse [style\nguide](https://style.tidyverse.org/) where possible. So-called \"tidy\"\nconventions are designed with the express purpose of making code and\nconsole output more human readable.\n\n::: callout-tip\nSometimes, human readability imposes a performance cost: in our\nexperience, IPUMS DHS datasets are small enough that this is not an\nissue. For larger datasets, we recommend exploring the\n[data.table](https://r-datatable.com) package instead.\n:::\n\n### sf\n\n::: column-margin\n`<div class=\"hex\">\n<a href=\"https://r-spatial.github.io/sf/index.html\" class=\"hex\">\n<img src=\"../../images/hex/sf.png\" class=\"hex-img\"/>\n</a>\n<p class=\"hex-cap\">© Edzer Pebesma (GPL-2 | MIT)</p>\n</div>`{=html}\n:::\n\n[sf](https://r-spatial.github.io/sf/), which stands for *simple features*, is the main R\npackage for working with spatial vector data.\n\nsf represents spatial data in a \"tidy\" format that resembles those used\nby tidyverse packages mentioned above. sf objects contain tabular data\nalong with a record of the *geometry* associated with each individual\nrecord.\n\nThis format makes it easy to perform spatial operations, attach spatial\ninformation to non-spatial data sources (like DHS surveys), and generate\nmaps.\n\n### terra\n\n::: column-margin\n`<div class=\"hex\">\n<a href=\"https://rspatial.github.io/terra/index.html\" class=\"hex\">\n<img src=\"../../images/hex/terra.png\" class=\"hex-img\"/>\n</a>\n<p class=\"hex-cap\">© Robert J. Hijmans et al. (GPL &gt;=3)</p>\n</div>`{=html}\n:::\n\n[terra](https://rspatial.org/) provides a general framework for working with spatial\ndata in both raster and vector format.\n\nWhile sf provides an alternative approach to working with vector data,\nterra's raster handling stands alone and provides robust methods to\nquickly index, aggregate, and manipulate raster data.\n\nBecause of its speed and simplicity, terra has superseded the long-lived\nraster package, which is being retired. You may still see online\nresources that reference the raster package, but we suggest relying only\non terra.\n\n## Getting Help {.appendix}\n\nQuestions or comments? Check out the \n[IPUMS User Forum](https://forum.ipums.org) or reach out to IPUMS User Support \nat ipums@umn.edu.\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}